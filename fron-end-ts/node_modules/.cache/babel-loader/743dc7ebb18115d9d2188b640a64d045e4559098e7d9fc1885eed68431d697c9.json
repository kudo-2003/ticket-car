{"ast":null,"code":"import React,{useState}from\"react\";import{mockTickets}from\"../data/mockTickets\";import TicketForm from\"./BusTicketManagement/TicketForm\";import ChartContainer from\"./BusTicketManagement/ChartContainer\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TourTicketManagement=()=>{const[tickets,setTickets]=useState(mockTickets);const[isFormVisible,setIsFormVisible]=useState(false);const[formMode,setFormMode]=useState(\"add\");const[currentTicket,setCurrentTicket]=useState(null);const[showHistory,setShowHistory]=useState(false);const handleAdd=()=>{setFormMode(\"add\");setCurrentTicket(null);setIsFormVisible(true);};const handleEdit=ticket=>{setFormMode(\"edit\");setCurrentTicket(ticket);setIsFormVisible(true);};const handleDelete=ticketId=>{setTickets(tickets.filter(ticket=>ticket.ticketId!==ticketId));};const handleFormSubmit=ticket=>{if(formMode===\"add\"){setTickets([...tickets,{...ticket,ticketId:tickets.length+1}]);}else if(formMode===\"edit\"&&currentTicket){setTickets(tickets.map(t=>t.ticketId===currentTicket.ticketId?ticket:t));}setIsFormVisible(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bus-ticket-management-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bus-ticket-management\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Danh s\\xE1ch v\\xE9 xe du l\\u1ECBch\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowHistory(!showHistory),className:\"history-button\",children:showHistory?\"Ẩn lịch sử\":\"Xem lịch sử vé đã đặt\"}),!showHistory&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleAdd,className:\"add-button\",children:\"Th\\xEAm v\\xE9\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE3 v\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn h\\xE0nh kh\\xE1ch\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y \\u0111i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110i\\u1EC3m kh\\u1EDFi h\\xE0nh\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110i\\u1EC3m \\u0111\\u1EBFn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gi\\xE1 v\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"H\\xE0nh \\u0111\\u1ED9ng\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tickets.map(ticket=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:ticket.ticketId}),/*#__PURE__*/_jsx(\"td\",{children:ticket.passengerName}),/*#__PURE__*/_jsx(\"td\",{children:ticket.travelDate.toISOString().split(\"T\")[0]}),/*#__PURE__*/_jsx(\"td\",{children:ticket.departure}),/*#__PURE__*/_jsx(\"td\",{children:ticket.destination}),/*#__PURE__*/_jsx(\"td\",{children:ticket.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(ticket),className:\"edit-button\",children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(ticket.ticketId),className:\"delete-button\",children:\"X\\xF3a\"})]})]},ticket.ticketId))})]})]}),isFormVisible&&/*#__PURE__*/_jsx(TicketForm,{mode:formMode,ticket:currentTicket,onSubmit:handleFormSubmit,onCancel:()=>setIsFormVisible(false)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(ChartContainer,{})})]});};export default TourTicketManagement;","map":{"version":3,"names":["React","useState","mockTickets","TicketForm","ChartContainer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TourTicketManagement","tickets","setTickets","isFormVisible","setIsFormVisible","formMode","setFormMode","currentTicket","setCurrentTicket","showHistory","setShowHistory","handleAdd","handleEdit","ticket","handleDelete","ticketId","filter","handleFormSubmit","length","map","t","className","children","onClick","passengerName","travelDate","toISOString","split","departure","destination","price","mode","onSubmit","onCancel"],"sources":["F:/File/do-an-tot-nghiep/fron-end-ts/src/Components/TourTicketManagement.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Ticket } from \"../model/Ticket\";\r\nimport { mockTickets } from \"../data/mockTickets\";\r\nimport TicketForm from \"./BusTicketManagement/TicketForm\";\r\nimport ChartContainer from \"./BusTicketManagement/ChartContainer\";\r\n\r\nconst TourTicketManagement: React.FC = () => {\r\n    const [tickets, setTickets] = useState<Ticket[]>(mockTickets);\r\n    const [isFormVisible, setIsFormVisible] = useState(false);\r\n    const [formMode, setFormMode] = useState<\"add\" | \"edit\">(\"add\");\r\n    const [currentTicket, setCurrentTicket] = useState<Ticket | null>(null);\r\n    const [showHistory, setShowHistory] = useState(false);\r\n\r\n    const handleAdd = () => {\r\n        setFormMode(\"add\");\r\n        setCurrentTicket(null);\r\n        setIsFormVisible(true);\r\n    };\r\n\r\n    const handleEdit = (ticket: Ticket) => {\r\n        setFormMode(\"edit\");\r\n        setCurrentTicket(ticket);\r\n        setIsFormVisible(true);\r\n    };\r\n\r\n    const handleDelete = (ticketId: number) => {\r\n        setTickets(tickets.filter((ticket) => ticket.ticketId !== ticketId));\r\n    };\r\n\r\n    const handleFormSubmit = (ticket: Ticket) => {\r\n        if (formMode === \"add\") {\r\n            setTickets([...tickets, { ...ticket, ticketId: tickets.length + 1 }]);\r\n        } else if (formMode === \"edit\" && currentTicket) {\r\n            setTickets(\r\n                tickets.map((t) =>\r\n                    t.ticketId === currentTicket.ticketId ? ticket : t\r\n                )\r\n            );\r\n        }\r\n        setIsFormVisible(false);\r\n    };\r\n\r\n    return (\r\n        <div className=\"bus-ticket-management-container\">\r\n            <div className=\"bus-ticket-management\">\r\n                <h2>Danh sách vé xe du lịch</h2>\r\n                <button onClick={() => setShowHistory(!showHistory)} className=\"history-button\">\r\n                    {showHistory ? \"Ẩn lịch sử\" : \"Xem lịch sử vé đã đặt\"}\r\n                </button>\r\n                {!showHistory && (\r\n                    <>\r\n                        <button onClick={handleAdd} className=\"add-button\">Thêm vé</button>\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Mã vé</th>\r\n                                    <th>Tên hành khách</th>\r\n                                    <th>Ngày đi</th>\r\n                                    <th>Điểm khởi hành</th>\r\n                                    <th>Điểm đến</th>\r\n                                    <th>Giá vé</th>\r\n                                    <th>Hành động</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {tickets.map((ticket) => (\r\n                                    <tr key={ticket.ticketId}>\r\n                                        <td>{ticket.ticketId}</td>\r\n                                        <td>{ticket.passengerName}</td>\r\n                                        <td>{ticket.travelDate.toISOString().split(\"T\")[0]}</td>\r\n                                        <td>{ticket.departure}</td>\r\n                                        <td>{ticket.destination}</td>\r\n                                        <td>{ticket.price}</td>\r\n                                        <td>\r\n                                            <button onClick={() => handleEdit(ticket)} className=\"edit-button\">Sửa</button>\r\n                                            <button onClick={() => handleDelete(ticket.ticketId)} className=\"delete-button\">Xóa</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </>\r\n                )}\r\n                {isFormVisible && (\r\n                    <TicketForm\r\n                        mode={formMode}\r\n                        ticket={currentTicket}\r\n                        onSubmit={handleFormSubmit}\r\n                        onCancel={() => setIsFormVisible(false)}\r\n                    />\r\n                )}\r\n            </div>\r\n            <div className=\"chart-container\">\r\n                <ChartContainer />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TourTicketManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}