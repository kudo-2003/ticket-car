{"ast":null,"code":"import React,{useState}from\"react\";import{mockTickets}from\"../data/mockTickets\";import TicketTable from\"./BusTicketManagement/TicketTable\";import TicketForm from\"./BusTicketManagement/TicketForm\";import ChartContainer from\"./BusTicketManagement/ChartContainer\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MotorbikeTicketManagement=()=>{const[tickets,setTickets]=useState(mockTickets);const[isFormVisible,setIsFormVisible]=useState(false);const[formMode,setFormMode]=useState(\"add\");const[currentTicket,setCurrentTicket]=useState(null);const[showHistory,setShowHistory]=useState(false);const[searchQuery,setSearchQuery]=useState(\"\");const[filterDate,setFilterDate]=useState(()=>{const today=new Date();return`${today.getFullYear()}-${String(today.getMonth()+1).padStart(2,\"0\")}`;});const handleAdd=()=>{setFormMode(\"add\");setCurrentTicket(null);setIsFormVisible(true);};const handleEdit=ticket=>{setFormMode(\"edit\");setCurrentTicket(ticket);setIsFormVisible(true);};const handleDelete=ticketId=>{setTickets(tickets.filter(ticket=>ticket.ticketId!==ticketId));};const handleFormSubmit=ticket=>{if(formMode===\"add\"){setTickets([...tickets,{...ticket,ticketId:tickets.length+1}]);}else if(formMode===\"edit\"&&currentTicket){setTickets(tickets.map(t=>t.ticketId===currentTicket.ticketId?ticket:t));}setIsFormVisible(false);};const handleViewHistory=()=>{setShowHistory(!showHistory);};return/*#__PURE__*/_jsxs(\"div\",{className:\"bus-ticket-management-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bus-ticket-management\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Danh s\\xE1ch v\\xE9 xe \\xF4m\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleViewHistory,className:\"history-button\",children:showHistory?\"Ẩn lịch sử\":\"Xem lịch sử vé đã đặt\"}),/*#__PURE__*/_jsx(TicketTable,{tickets:tickets,showHistory:showHistory,searchQuery:searchQuery,filterDate:filterDate,onEdit:handleEdit,onDelete:handleDelete,onSearch:setSearchQuery,onFilterDateChange:setFilterDate}),isFormVisible&&/*#__PURE__*/_jsx(TicketForm,{mode:formMode,ticket:currentTicket,onSubmit:handleFormSubmit,onCancel:()=>setIsFormVisible(false)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",children:/*#__PURE__*/_jsx(ChartContainer,{})})]});};export default MotorbikeTicketManagement;","map":{"version":3,"names":["React","useState","mockTickets","TicketTable","TicketForm","ChartContainer","jsx","_jsx","jsxs","_jsxs","MotorbikeTicketManagement","tickets","setTickets","isFormVisible","setIsFormVisible","formMode","setFormMode","currentTicket","setCurrentTicket","showHistory","setShowHistory","searchQuery","setSearchQuery","filterDate","setFilterDate","today","Date","getFullYear","String","getMonth","padStart","handleAdd","handleEdit","ticket","handleDelete","ticketId","filter","handleFormSubmit","length","map","t","handleViewHistory","className","children","onClick","onEdit","onDelete","onSearch","onFilterDateChange","mode","onSubmit","onCancel"],"sources":["F:/File/do-an-tot-nghiep/fron-end-ts/src/Components/MotorbikeTicketManagement.tsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Ticket } from \"../model/Ticket\";\r\nimport { mockTickets } from \"../data/mockTickets\";\r\nimport TicketTable from \"./BusTicketManagement/TicketTable\";\r\nimport TicketForm from \"./BusTicketManagement/TicketForm\";\r\nimport ChartContainer from \"./BusTicketManagement/ChartContainer\";\r\n\r\nconst MotorbikeTicketManagement: React.FC = () => {\r\n    const [tickets, setTickets] = useState<Ticket[]>(mockTickets);\r\n    const [isFormVisible, setIsFormVisible] = useState(false);\r\n    const [formMode, setFormMode] = useState<\"add\" | \"edit\">(\"add\");\r\n    const [currentTicket, setCurrentTicket] = useState<Ticket | null>(null);\r\n    const [showHistory, setShowHistory] = useState(false);\r\n    const [searchQuery, setSearchQuery] = useState(\"\");\r\n    const [filterDate, setFilterDate] = useState(() => {\r\n        const today = new Date();\r\n        return `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, \"0\")}`;\r\n    });\r\n\r\n    const handleAdd = () => {\r\n        setFormMode(\"add\");\r\n        setCurrentTicket(null);\r\n        setIsFormVisible(true);\r\n    };\r\n\r\n    const handleEdit = (ticket: Ticket) => {\r\n        setFormMode(\"edit\");\r\n        setCurrentTicket(ticket);\r\n        setIsFormVisible(true);\r\n    };\r\n\r\n    const handleDelete = (ticketId: number) => {\r\n        setTickets(tickets.filter((ticket) => ticket.ticketId !== ticketId));\r\n    };\r\n\r\n    const handleFormSubmit = (ticket: Ticket) => {\r\n        if (formMode === \"add\") {\r\n            setTickets([...tickets, { ...ticket, ticketId: tickets.length + 1 }]);\r\n        } else if (formMode === \"edit\" && currentTicket) {\r\n            setTickets(\r\n                tickets.map((t) =>\r\n                    t.ticketId === currentTicket.ticketId ? ticket : t\r\n                )\r\n            );\r\n        }\r\n        setIsFormVisible(false);\r\n    };\r\n\r\n    const handleViewHistory = () => {\r\n        setShowHistory(!showHistory);\r\n    };\r\n\r\n    return (\r\n        <div className=\"bus-ticket-management-container\">\r\n            <div className=\"bus-ticket-management\">\r\n                <h2>Danh sách vé xe ôm</h2>\r\n                <button onClick={handleViewHistory} className=\"history-button\">\r\n                    {showHistory ? \"Ẩn lịch sử\" : \"Xem lịch sử vé đã đặt\"}\r\n                </button>\r\n                <TicketTable\r\n                    tickets={tickets}\r\n                    showHistory={showHistory}\r\n                    searchQuery={searchQuery}\r\n                    filterDate={filterDate}\r\n                    onEdit={handleEdit}\r\n                    onDelete={handleDelete}\r\n                    onSearch={setSearchQuery}\r\n                    onFilterDateChange={setFilterDate}\r\n                />\r\n                {isFormVisible && (\r\n                    <TicketForm\r\n                        mode={formMode}\r\n                        ticket={currentTicket}\r\n                        onSubmit={handleFormSubmit}\r\n                        onCancel={() => setIsFormVisible(false)}\r\n                    />\r\n                )}\r\n            </div>\r\n            <div className=\"chart-container\">\r\n                <ChartContainer />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MotorbikeTicketManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}