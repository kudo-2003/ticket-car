{"ast":null,"code":"import React from\"react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const TicketTable=_ref=>{let{tickets,showHistory,searchQuery,filterDate,onEdit,onDelete,onSearch,onFilterDateChange}=_ref;const today=new Date();const pastTickets=tickets.filter(ticket=>ticket.travelDate<today);const filteredTickets=pastTickets.filter(ticket=>{const matchesSearch=ticket.passengerName.toLowerCase().includes(searchQuery.toLowerCase());const matchesDate=filterDate?ticket.travelDate.toISOString().startsWith(filterDate):true;return matchesSearch&&matchesDate;});return/*#__PURE__*/_jsxs(_Fragment,{children:[!showHistory&&/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE3 v\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn h\\xE0nh kh\\xE1ch\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y \\u0111i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110i\\u1EC3m kh\\u1EDFi h\\xE0nh\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110i\\u1EC3m \\u0111\\u1EBFn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gi\\xE1 v\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"H\\xE0nh \\u0111\\u1ED9ng\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tickets.map(ticket=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:ticket.ticketId}),/*#__PURE__*/_jsx(\"td\",{children:ticket.passengerName}),/*#__PURE__*/_jsx(\"td\",{children:ticket.travelDate.toISOString().split(\"T\")[0]}),/*#__PURE__*/_jsx(\"td\",{children:ticket.departure}),/*#__PURE__*/_jsx(\"td\",{children:ticket.destination}),/*#__PURE__*/_jsx(\"td\",{children:ticket.price}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>onEdit(ticket),className:\"edit-button\",children:\"S\\u1EEDa\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onDelete(ticket.ticketId),className:\"delete-button\",children:\"X\\xF3a\"})]})]},ticket.ticketId))})]}),showHistory&&/*#__PURE__*/_jsxs(\"div\",{className:\"ticket-history\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"L\\u1ECBch s\\u1EED v\\xE9 \\u0111\\xE3 \\u0111\\u1EB7t\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"history-filters\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xECm ki\\u1EBFm theo t\\xEAn h\\xE0nh kh\\xE1ch\",value:searchQuery,onChange:e=>onSearch(e.target.value)}),/*#__PURE__*/_jsx(\"input\",{type:\"month\",value:filterDate,onChange:e=>onFilterDateChange(e.target.value)})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE3 v\\xE9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn h\\xE0nh kh\\xE1ch\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ng\\xE0y \\u0111i\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110i\\u1EC3m kh\\u1EDFi h\\xE0nh\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u0110i\\u1EC3m \\u0111\\u1EBFn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gi\\xE1 v\\xE9\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredTickets.map(ticket=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:ticket.ticketId}),/*#__PURE__*/_jsx(\"td\",{children:ticket.passengerName}),/*#__PURE__*/_jsx(\"td\",{children:ticket.travelDate.toISOString().split(\"T\")[0]}),/*#__PURE__*/_jsx(\"td\",{children:ticket.departure}),/*#__PURE__*/_jsx(\"td\",{children:ticket.destination}),/*#__PURE__*/_jsx(\"td\",{children:ticket.price})]},ticket.ticketId))})]})]})]});};export default TicketTable;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TicketTable","_ref","tickets","showHistory","searchQuery","filterDate","onEdit","onDelete","onSearch","onFilterDateChange","today","Date","pastTickets","filter","ticket","travelDate","filteredTickets","matchesSearch","passengerName","toLowerCase","includes","matchesDate","toISOString","startsWith","children","map","ticketId","split","departure","destination","price","onClick","className","type","placeholder","value","onChange","e","target"],"sources":["F:/File/do-an-tot-nghiep/fron-end-ts/src/Components/BusTicketManagement/TicketTable.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { Ticket } from \"../../model/Ticket\";\r\n\r\ninterface TicketTableProps {\r\n    tickets: Ticket[];\r\n    showHistory: boolean;\r\n    searchQuery: string;\r\n    filterDate: string;\r\n    onEdit: (ticket: Ticket) => void;\r\n    onDelete: (ticketId: number) => void;\r\n    onSearch: (query: string) => void;\r\n    onFilterDateChange: (date: string) => void;\r\n}\r\n\r\nconst TicketTable: React.FC<TicketTableProps> = ({\r\n    tickets,\r\n    showHistory,\r\n    searchQuery,\r\n    filterDate,\r\n    onEdit,\r\n    onDelete,\r\n    onSearch,\r\n    onFilterDateChange,\r\n}) => {\r\n    const today = new Date();\r\n    const pastTickets = tickets.filter((ticket) => ticket.travelDate < today);\r\n\r\n    const filteredTickets = pastTickets.filter((ticket) => {\r\n        const matchesSearch = ticket.passengerName\r\n            .toLowerCase()\r\n            .includes(searchQuery.toLowerCase());\r\n        const matchesDate = filterDate\r\n            ? ticket.travelDate.toISOString().startsWith(filterDate)\r\n            : true;\r\n        return matchesSearch && matchesDate;\r\n    });\r\n\r\n    return (\r\n        <>\r\n            {!showHistory && (\r\n                <table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Mã vé</th>\r\n                            <th>Tên hành khách</th>\r\n                            <th>Ngày đi</th>\r\n                            <th>Điểm khởi hành</th>\r\n                            <th>Điểm đến</th>\r\n                            <th>Giá vé</th>\r\n                            <th>Hành động</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {tickets.map((ticket) => (\r\n                            <tr key={ticket.ticketId}>\r\n                                <td>{ticket.ticketId}</td>\r\n                                <td>{ticket.passengerName}</td>\r\n                                <td>{ticket.travelDate.toISOString().split(\"T\")[0]}</td>\r\n                                <td>{ticket.departure}</td>\r\n                                <td>{ticket.destination}</td>\r\n                                <td>{ticket.price}</td>\r\n                                <td>\r\n                                    <button\r\n                                        onClick={() => onEdit(ticket)}\r\n                                        className=\"edit-button\"\r\n                                    >\r\n                                        Sửa\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => onDelete(ticket.ticketId)}\r\n                                        className=\"delete-button\"\r\n                                    >\r\n                                        Xóa\r\n                                    </button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n            )}\r\n            {showHistory && (\r\n                <div className=\"ticket-history\">\r\n                    <h3>Lịch sử vé đã đặt</h3>\r\n                    <div className=\"history-filters\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Tìm kiếm theo tên hành khách\"\r\n                            value={searchQuery}\r\n                            onChange={(e) => onSearch(e.target.value)}\r\n                        />\r\n                        <input\r\n                            type=\"month\"\r\n                            value={filterDate}\r\n                            onChange={(e) => onFilterDateChange(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Mã vé</th>\r\n                                <th>Tên hành khách</th>\r\n                                <th>Ngày đi</th>\r\n                                <th>Điểm khởi hành</th>\r\n                                <th>Điểm đến</th>\r\n                                <th>Giá vé</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {filteredTickets.map((ticket) => (\r\n                                <tr key={ticket.ticketId}>\r\n                                    <td>{ticket.ticketId}</td>\r\n                                    <td>{ticket.passengerName}</td>\r\n                                    <td>{ticket.travelDate.toISOString().split(\"T\")[0]}</td>\r\n                                    <td>{ticket.departure}</td>\r\n                                    <td>{ticket.destination}</td>\r\n                                    <td>{ticket.price}</td>\r\n                                </tr>\r\n                            ))}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default TicketTable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}